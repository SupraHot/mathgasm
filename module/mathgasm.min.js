var __DATE__="Tue Mar 28 2017 13:33:30 GMT+0200 (CEST)";console.log("Compiled at",__DATE__),function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t.mathgasm=t.mathgasm||{})}(this,function(t){"use strict";var i=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,i){for(var e=0;e<i.length;e++){var A=i[e];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(t,A.key,A)}}return function(i,e,A){return e&&t(i.prototype,e),A&&t(i,A),i}}(),A=function(){function t(){i(this,t)}return e(t,[{key:"__init",value:function(t){this.__initHeap(t.buffer)}},{key:"__initHeap",value:function(t){this.wasmMemoryBuffer=t,this.HEAP8=new Int8Array(t),this.HEAP16=new Int16Array(t),this.HEAP32=new Int32Array(t),this.HEAPU8=new Uint8Array(t),this.HEAPU16=new Uint16Array(t),this.HEAPU32=new Uint32Array(t),this.HEAPF32=new Float32Array(t),this.HEAPF64=new Float64Array(t),this.__initMalloc()}},{key:"__initMalloc",value:function(){this.HEAPU32[5]=0,this.HEAPU32[6]=0,this.HEAPU32[7]=0,this.HEAP32[2]=40,this.HEAP32[3]=40}},{key:"malloc",value:function(t){t|=0;var i=0,e=0,A=0,P=0,H=0;if(t=0|7+(0|t),i=8+(0|t)|0,(0|(e=0|this.getFreeChunk(0|i)))>0|0)return 0|e;for(A=0|7+(0|this.HEAP32[3]),P=(0|A)+(0|i)|0,H=4+(0|A)|0,this.setHeadSize(0|H,0|i),this.setInuse(4+(0|H)|0),this.setFoot(0|H,0|i),this.HEAP32[3]=4+(0|P)|0,A=0|8+(0|A),H=0|A;(0|H)<(0|P)|0;)this.HEAPU32[H>>2]=0,H=0|4+(0|H);return 0|A}},{key:"getFreeChunk",value:function(t){t|=0;var i=0;return(0|this.HEAPU32[5])>0|0&&(0|(i=0|this.findChunk(0|t)))>0|0?((0|i)==(0|this.HEAPU32[6])|0&&(this.HEAPU32[6]=0|this.nextFree(0|i)),(0|i)==(0|this.HEAPU32[7])|0&&(this.HEAPU32[7]=0),this.HEAPU32[5]=(0|this.HEAPU32[5])-1|0,this.setInuse(0|i),this.HEAPU32[4]=(0|this.HEAPU32[4])-(0|this.getChunkSize(0|i))|0,0|i):0}},{key:"setHeadSize",value:function(t,i){t|=0,i|=0,this.HEAPU32[t>>2]=0|7&(0|this.HEAPU32[t>>2])|i|0}},{key:"setInuse",value:function(t){t|=0;var i=0;i=(0|t)-4|0,this.HEAPU32[i>>2]=1|this.HEAPU32[i>>2]}},{key:"setFoot",value:function(t,i){t|=0,i|=0;var e=0,A=0;e=0|this.HEAPU32[t>>2],A=(0|t)+(0|e)|0,this.HEAPU32[A>>2]=0|i}},{key:"nextFree",value:function(t){return t|=0,0|this.HEAP32[t>>2]}},{key:"findChunk",value:function(t){t|=0;var i=0;for(i=0|this.HEAPU32[6];0!=(0|i)|0;){if((0|this.getChunkSize(0|i))==(0|t)|0)return 0|i;i=0|this.HEAPU32[i>>2]}return 0}},{key:"getFreeChunk",value:function(t){t|=0;var i=0;return(0|this.HEAPU32[5])>0|0&&(0|(i=0|this.findChunk(0|t)))>0|0?((0|i)==(0|HEAPU32[6])|0&&(this.HEAPU32[6]=0|this.nextFree(0|i)),(0|i)==(0|this.HEAPU32[7])|0&&(this.HEAPU32[7]=0),this.HEAPU32[5]=(0|this.HEAPU32[5])-1|0,this.setInuse(0|i),this.HEAPU32[4]=(0|this.HEAPU32[4])-(0|this.getChunkSize(0|i))|0,0|i):0}},{key:"getChunkSize",value:function(t){t|=0;var i=0;return i=(0|t)-4|0,(0|this.HEAPU32[i>>2])&-2|0}}]),t}(),P=new A;t.__Native={};var H=function(){function A(){i(this,A)}return e(A,[{key:"initialize",value:function(i,e){var A={env:{memoryBase:0,tableBase:0,memory:new WebAssembly.Memory({initial:256}),table:new WebAssembly.Table({initial:0,element:"anyfunc"}),DYNAMICTOP_PTR:0,tempDoublePtr:0,STACKTOP:0,STACK_MAX:0,ABORT:0,abortStackOverflow:function(){},_malloc:P.malloc.bind(P),_printf:console.log},global:{NaN:0,Infinity:0}};fetch(i).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,A)}).then(function(i){var e=i.instance;P.__init(A.env.memory),t.__Native=e.exports}).then(e)}}]),A}(),E=new H,n=function(){function A(t,e){i(this,A),this.x=t,this.y=e}return e(A,[{key:"add",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=i.x,P.HEAPF32[3]=i.y,t.__Native._mathgasm_float2_add(0,8,16),new A(P.HEAPF32[4],P.HEAPF32[5])}},{key:"sub",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=-i.x,P.HEAPF32[3]=-i.y,t.__Native._mathgasm_float2_add(0,8,16),new A(P.HEAPF32[4],P.HEAPF32[5])}},{key:"mul",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=i,P.HEAPF32[3]=e,t.__Native._mathgasm_float2_mul(0,8,16),new A(P.HEAPF32[4],P.HEAPF32[5])}},{key:"mad",value:function(i,e){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=i.x,P.HEAPF32[3]=i.y,P.HEAPF32[4]=e.x,P.HEAPF32[5]=e.y,t.__Native._mathgasm_float2_mad(0,8,16,24),new A(P.HEAPF32[6],P.HEAPF32[7])}},{key:"length",value:function(){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,t.__Native._mathgasm_float2_length(0,8),P.HEAPF32[2]}},{key:"dot",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=i.x,P.HEAPF32[3]=i.y,t.__Native._mathgasm_float2_dot(0,8,16),P.HEAPF32[4]}},{key:"normalized",value:function(){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,t.__Native._mathgasm_float2_normalize(0,8),new A(P.HEAPF32[2],P.HEAPF32[3])}},{key:"lerped",value:function(i,e){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=i.x,P.HEAPF32[3]=i.y,P.HEAPF32[4]=e,t.__Native._mathgasm_float2_lerp(0,8,16,20),new A(P.HEAPF32[5],P.HEAPF32[6])}}]),A}(),F=function(){function A(t,e,P){i(this,A),this.x=t,this.y=e,this.z=P}return e(A,[{key:"add",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=i.x,P.HEAPF32[4]=i.y,P.HEAPF32[5]=i.z,t.__Native._mathgasm_float3_add(0,12,24),new A(P.HEAPF32[6],P.HEAPF32[7],P.HEAPF32[8])}},{key:"sub",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=-i.x,P.HEAPF32[4]=-i.y,P.HEAPF32[5]=-i.z,t.__Native._mathgasm_float3_add(0,12,24),new A(P.HEAPF32[6],P.HEAPF32[7],P.HEAPF32[8])}},{key:"mul",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=i,P.HEAPF32[4]=e,P.HEAPF32[5]=H,t.__Native._mathgasm_float3_mul(0,12,24),new A(P.HEAPF32[6],P.HEAPF32[7],P.HEAPF32[8])}},{key:"mad",value:function(i,e){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=i.x,P.HEAPF32[4]=i.y,P.HEAPF32[5]=i.z,P.HEAPF32[6]=e.x,P.HEAPF32[7]=e.y,P.HEAPF32[8]=e.z,t.__Native._mathgasm_float3_mad(0,12,24,36),new A(P.HEAPF32[9],P.HEAPF32[10],P.HEAPF32[11])}},{key:"length",value:function(){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,t.__Native._mathgasm_float3_length(0,12),P.HEAPF32[3]}},{key:"dot",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=i.x,P.HEAPF32[4]=i.y,P.HEAPF32[5]=i.z,t.__Native._mathgasm_float3_dot(0,12,24),P.HEAPF32[6]}},{key:"normalized",value:function(){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,t.__Native._mathgasm_float3_normalize(0,12),new A(P.HEAPF32[3],P.HEAPF32[4],P.HEAPF32[5])}},{key:"cross",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=i.x,P.HEAPF32[4]=i.y,P.HEAPF32[5]=i.z,t.__Native._mathgasm_float3_cross(0,12,24),new A(P.HEAPF32[6],P.HEAPF32[7],P.HEAPF32[8])}},{key:"reflect",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=i.x,P.HEAPF32[4]=i.y,P.HEAPF32[5]=i.z,t.__Native._mathgasm_float3_reflect(0,12,24),new A(P.HEAPF32[6],P.HEAPF32[7],P.HEAPF32[8])}},{key:"lerped",value:function(i,e){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=i.x,P.HEAPF32[4]=i.y,P.HEAPF32[5]=i.z,P.HEAPF32[6]=e,t.__Native._mathgasm_float3_lerp(0,12,24,28),new A(P.HEAPF32[7],P.HEAPF32[8],P.HEAPF32[9])}}]),A}(),s=function(){function A(t,e,P,H){i(this,A),this.x=t,this.y=e,this.z=P,this.w=H}return e(A,[{key:"add",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=this.w,P.HEAPF32[4]=i.x,P.HEAPF32[5]=i.y,P.HEAPF32[6]=i.z,P.HEAPF32[7]=i.w,t.__Native._mathgasm_float4_add(0,16,32),new A(P.HEAPF32[8],P.HEAPF32[9],P.HEAPF32[10],P.HEAPF32[11])}},{key:"sub",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=this.w,P.HEAPF32[4]=-i.x,P.HEAPF32[5]=-i.y,P.HEAPF32[6]=-i.z,P.HEAPF32[7]=-i.w,t.__Native._mathgasm_float4_add(0,16,32),new A(P.HEAPF32[8],P.HEAPF32[9],P.HEAPF32[10],P.HEAPF32[11])}},{key:"mul",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=this.w,P.HEAPF32[4]=i,P.HEAPF32[5]=e,P.HEAPF32[6]=H,P.HEAPF32[7]=E,t.__Native._mathgasm_float4_mul(0,16,32),new A(P.HEAPF32[8],P.HEAPF32[9],P.HEAPF32[10],P.HEAPF32[11])}},{key:"length",value:function(){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=this.w,t.__Native._mathgasm_float4_length(0,16),P.HEAPF32[4]}},{key:"dot",value:function(i){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=this.w,P.HEAPF32[4]=i.x,P.HEAPF32[5]=i.y,P.HEAPF32[6]=i.z,P.HEAPF32[7]=i.w,t.__Native._mathgasm_float4_dot(0,16,32),P.HEAPF32[8]}},{key:"normalized",value:function(){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=this.w,t.__Native._mathgasm_float4_normalize(0,16),new A(P.HEAPF32[4],P.HEAPF32[5],P.HEAPF32[6],P.HEAPF32[7])}},{key:"lerped",value:function(i,e){return P.HEAPF32[0]=this.x,P.HEAPF32[1]=this.y,P.HEAPF32[2]=this.z,P.HEAPF32[3]=this.w,P.HEAPF32[4]=i.x,P.HEAPF32[5]=i.y,P.HEAPF32[6]=i.z,P.HEAPF32[7]=i.w,P.HEAPF32[8]=e,t.__Native._mathgasm_float4_lerp(0,16,32,36),new A(P.HEAPF32[9],P.HEAPF32[10],P.HEAPF32[11],P.HEAPF32[12])}}]),A}(),h=function(){function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,H=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,a=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,r=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,o=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,m=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,l=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,_=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;i(this,A),this.m00=t,this.m10=E,this.m20=h,this.m30=o,this.m01=e,this.m11=n,this.m21=a,this.m31=m,this.m02=P,this.m12=F,this.m22=u,this.m32=l,this.m03=H,this.m13=s,this.m23=r,this.m33=_}return e(A,[{key:"setFromQuaternion",value:function(t){}},{key:"mulMat",value:function(i){return P.HEAPF32[0]=this.m00,P.HEAPF32[1]=this.m01,P.HEAPF32[2]=this.m02,P.HEAPF32[3]=this.m03,P.HEAPF32[4]=this.m10,P.HEAPF32[5]=this.m11,P.HEAPF32[6]=this.m12,P.HEAPF32[7]=this.m13,P.HEAPF32[8]=this.m20,P.HEAPF32[9]=this.m21,P.HEAPF32[10]=this.m22,P.HEAPF32[11]=this.m23,P.HEAPF32[12]=this.m30,P.HEAPF32[13]=this.m31,P.HEAPF32[14]=this.m32,P.HEAPF32[15]=this.m33,P.HEAPF32[16]=i.m00,P.HEAPF32[17]=i.m01,P.HEAPF32[18]=i.m02,P.HEAPF32[19]=i.m03,P.HEAPF32[20]=i.m10,P.HEAPF32[21]=i.m11,P.HEAPF32[22]=i.m12,P.HEAPF32[23]=i.m13,P.HEAPF32[24]=i.m20,P.HEAPF32[25]=i.m21,P.HEAPF32[26]=i.m22,P.HEAPF32[27]=i.m23,P.HEAPF32[28]=i.m30,P.HEAPF32[29]=i.m31,P.HEAPF32[30]=i.m32,P.HEAPF32[31]=i.m33,t.__Native._mathgasm_float4x4_mul(0,64,128),new A(P.HEAPF32[32],P.HEAPF32[33],P.HEAPF32[34],P.HEAPF32[35],P.HEAPF32[36],P.HEAPF32[37],P.HEAPF32[38],P.HEAPF32[39],P.HEAPF32[40],P.HEAPF32[41],P.HEAPF32[42],P.HEAPF32[43],P.HEAPF32[44],P.HEAPF32[45],P.HEAPF32[46],P.HEAPF32[47])}},{key:"mulVec",value:function(i){return P.HEAPF32[0]=this.m00,P.HEAPF32[1]=this.m01,P.HEAPF32[2]=this.m02,P.HEAPF32[3]=this.m03,P.HEAPF32[4]=this.m10,P.HEAPF32[5]=this.m11,P.HEAPF32[6]=this.m12,P.HEAPF32[7]=this.m13,P.HEAPF32[8]=this.m20,P.HEAPF32[9]=this.m21,P.HEAPF32[10]=this.m22,P.HEAPF32[11]=this.m23,P.HEAPF32[12]=this.m30,P.HEAPF32[13]=this.m31,P.HEAPF32[14]=this.m32,P.HEAPF32[15]=this.m33,P.HEAPF32[16]=i.x,P.HEAPF32[17]=i.y,P.HEAPF32[18]=i.z,t.__Native._mathgasm_float4x4_mul_vec(0,64,76),new F(P.HEAPF32[19],P.HEAPF32[20],P.HEAPF32[21])}},{key:"mulScalar",value:function(i){return P.HEAPF32[0]=this.m00,P.HEAPF32[1]=this.m01,P.HEAPF32[2]=this.m02,P.HEAPF32[3]=this.m03,P.HEAPF32[4]=this.m10,P.HEAPF32[5]=this.m11,P.HEAPF32[6]=this.m12,P.HEAPF32[7]=this.m13,P.HEAPF32[8]=this.m20,P.HEAPF32[9]=this.m21,P.HEAPF32[10]=this.m22,P.HEAPF32[11]=this.m23,P.HEAPF32[12]=this.m30,P.HEAPF32[13]=this.m31,P.HEAPF32[14]=this.m32,P.HEAPF32[15]=this.m33,P.HEAPF32[16]=i,t.__Native._mathgasm_float4x4_mul_scalar(0,64,68),new A(P.HEAPF32[17],P.HEAPF32[18],P.HEAPF32[19],P.HEAPF32[20],P.HEAPF32[21],P.HEAPF32[22],P.HEAPF32[23],P.HEAPF32[24],P.HEAPF32[25],P.HEAPF32[26],P.HEAPF32[27],P.HEAPF32[28],P.HEAPF32[29],P.HEAPF32[30],P.HEAPF32[31],P.HEAPF32[32])}},{key:"invertedTR",value:function(){}},{key:"inverted",value:function(){}},{key:"decompose",value:function(){return{scale:new F,translation:new F,rotation:{}}}}]),A}();t.Vec2=n,t.Vec3=F,t.Vec4=s,t.Mat4=h,t.Bootstrapper=E,t.Heap=P,Object.defineProperty(t,"__esModule",{value:!0})});