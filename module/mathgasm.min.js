var __DATE__="Tue Mar 28 2017 13:09:15 GMT+0200 (CEST)";console.log("Compiled at",__DATE__),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.mathgasm=t.mathgasm||{})}(this,function(t){"use strict";var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(){e(this,t)}return i(t,[{key:"__init",value:function(t){this.__initHeap(t.buffer)}},{key:"__initHeap",value:function(t){this.wasmMemoryBuffer=t,this.HEAP8=new Int8Array(t),this.HEAP16=new Int16Array(t),this.HEAP32=new Int32Array(t),this.HEAPU8=new Uint8Array(t),this.HEAPU16=new Uint16Array(t),this.HEAPU32=new Uint32Array(t),this.HEAPF32=new Float32Array(t),this.HEAPF64=new Float64Array(t),this.__initMalloc()}},{key:"__initMalloc",value:function(){this.HEAPU32[5]=0,this.HEAPU32[6]=0,this.HEAPU32[7]=0,this.HEAP32[2]=40,this.HEAP32[3]=40}},{key:"malloc",value:function(t){t|=0;var e=0,i=0,n=0,A=0,P=0;if(t=0|7+(0|t),e=8+(0|t)|0,(0|(i=0|this.getFreeChunk(0|e)))>0|0)return 0|i;for(n=0|7+(0|this.HEAP32[3]),A=(0|n)+(0|e)|0,P=4+(0|n)|0,this.setHeadSize(0|P,0|e),this.setInuse(4+(0|P)|0),this.setFoot(0|P,0|e),this.HEAP32[3]=4+(0|A)|0,n=0|8+(0|n),P=0|n;(0|P)<(0|A)|0;)this.HEAPU32[P>>2]=0,P=0|4+(0|P);return 0|n}},{key:"getFreeChunk",value:function(t){t|=0;var e=0;return(0|this.HEAPU32[5])>0|0&&(0|(e=0|this.findChunk(0|t)))>0|0?((0|e)==(0|this.HEAPU32[6])|0&&(this.HEAPU32[6]=0|this.nextFree(0|e)),(0|e)==(0|this.HEAPU32[7])|0&&(this.HEAPU32[7]=0),this.HEAPU32[5]=(0|this.HEAPU32[5])-1|0,this.setInuse(0|e),this.HEAPU32[4]=(0|this.HEAPU32[4])-(0|this.getChunkSize(0|e))|0,0|e):0}},{key:"setHeadSize",value:function(t,e){t|=0,e|=0,this.HEAPU32[t>>2]=0|7&(0|this.HEAPU32[t>>2])|e|0}},{key:"setInuse",value:function(t){t|=0;var e=0;e=(0|t)-4|0,this.HEAPU32[e>>2]=1|this.HEAPU32[e>>2]}},{key:"setFoot",value:function(t,e){t|=0,e|=0;var i=0,n=0;i=0|this.HEAPU32[t>>2],n=(0|t)+(0|i)|0,this.HEAPU32[n>>2]=0|e}},{key:"nextFree",value:function(t){return t|=0,0|this.HEAP32[t>>2]}},{key:"findChunk",value:function(t){t|=0;var e=0;for(e=0|this.HEAPU32[6];0!=(0|e)|0;){if((0|this.getChunkSize(0|e))==(0|t)|0)return 0|e;e=0|this.HEAPU32[e>>2]}return 0}},{key:"getFreeChunk",value:function(t){t|=0;var e=0;return(0|this.HEAPU32[5])>0|0&&(0|(e=0|this.findChunk(0|t)))>0|0?((0|e)==(0|HEAPU32[6])|0&&(this.HEAPU32[6]=0|this.nextFree(0|e)),(0|e)==(0|this.HEAPU32[7])|0&&(this.HEAPU32[7]=0),this.HEAPU32[5]=(0|this.HEAPU32[5])-1|0,this.setInuse(0|e),this.HEAPU32[4]=(0|this.HEAPU32[4])-(0|this.getChunkSize(0|e))|0,0|e):0}},{key:"getChunkSize",value:function(t){t|=0;var e=0;return e=(0|t)-4|0,(0|this.HEAPU32[e>>2])&-2|0}}]),t}(),A=new n;t.__Native={};var P=function(){function n(){e(this,n)}return i(n,[{key:"initialize",value:function(e,i){var n={env:{memoryBase:0,tableBase:0,memory:new WebAssembly.Memory({initial:256}),table:new WebAssembly.Table({initial:0,element:"anyfunc"}),DYNAMICTOP_PTR:0,tempDoublePtr:0,STACKTOP:0,STACK_MAX:0,ABORT:0,abortStackOverflow:function(){},_malloc:A.malloc.bind(A),_printf:console.log},global:{NaN:0,Infinity:0}};fetch(e).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,n)}).then(function(e){var i=e.instance;A.__init(n.env.memory),t.__Native=i.exports}).then(i)}}]),n}(),H=new P,E=function(){function n(t,i){e(this,n),this.x=t,this.y=i}return i(n,[{key:"add",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=e.x,A.HEAPF32[3]=e.y,t.__Native._mathgasm_float2_add(0,8,16),new n(A.HEAPF32[4],A.HEAPF32[5])}},{key:"sub",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=-e.x,A.HEAPF32[3]=-e.y,t.__Native._mathgasm_float2_add(0,8,16),new n(A.HEAPF32[4],A.HEAPF32[5])}},{key:"mul",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=e,A.HEAPF32[3]=i,t.__Native._mathgasm_float2_mul(0,8,16),new n(A.HEAPF32[4],A.HEAPF32[5])}},{key:"mad",value:function(e,i){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=e.x,A.HEAPF32[3]=e.y,A.HEAPF32[4]=i.x,A.HEAPF32[5]=i.y,t.__Native._mathgasm_float2_mad(0,8,16,24),new n(A.HEAPF32[6],A.HEAPF32[7])}},{key:"length",value:function(){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,t.__Native._mathgasm_float2_length(0,8),A.HEAPF32[2]}},{key:"dot",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=e.x,A.HEAPF32[3]=e.y,t.__Native._mathgasm_float2_dot(0,8,16),A.HEAPF32[4]}},{key:"normalized",value:function(){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,t.__Native._mathgasm_float2_normalize(0,8),new n(A.HEAPF32[2],A.HEAPF32[3])}},{key:"lerped",value:function(e,i){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=e.x,A.HEAPF32[3]=e.y,A.HEAPF32[4]=i,t.__Native._mathgasm_float2_lerp(0,8,16,20),new n(A.HEAPF32[5],A.HEAPF32[6])}}]),n}(),a=function(){function n(t,i,A){e(this,n),this.x=t,this.y=i,this.z=A}return i(n,[{key:"add",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=e.x,A.HEAPF32[4]=e.y,A.HEAPF32[5]=e.z,t.__Native._mathgasm_float3_add(0,12,24),new n(A.HEAPF32[6],A.HEAPF32[7],A.HEAPF32[8])}},{key:"sub",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=-e.x,A.HEAPF32[4]=-e.y,A.HEAPF32[5]=-e.z,t.__Native._mathgasm_float3_add(0,12,24),new n(A.HEAPF32[6],A.HEAPF32[7],A.HEAPF32[8])}},{key:"mul",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=e,A.HEAPF32[4]=i,A.HEAPF32[5]=P,t.__Native._mathgasm_float3_mul(0,12,24),new n(A.HEAPF32[6],A.HEAPF32[7],A.HEAPF32[8])}},{key:"mad",value:function(e,i){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=e.x,A.HEAPF32[4]=e.y,A.HEAPF32[5]=e.z,A.HEAPF32[6]=i.x,A.HEAPF32[7]=i.y,A.HEAPF32[8]=i.z,t.__Native._mathgasm_float3_mad(0,12,24,36),new n(A.HEAPF32[9],A.HEAPF32[10],A.HEAPF32[11])}},{key:"length",value:function(){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,t.__Native._mathgasm_float3_length(0,12),A.HEAPF32[3]}},{key:"dot",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=e.x,A.HEAPF32[4]=e.y,A.HEAPF32[5]=e.z,t.__Native._mathgasm_float3_dot(0,12,24),A.HEAPF32[6]}},{key:"normalized",value:function(){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,t.__Native._mathgasm_float3_normalize(0,12),new n(A.HEAPF32[3],A.HEAPF32[4],A.HEAPF32[5])}},{key:"cross",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=e.x,A.HEAPF32[4]=e.y,A.HEAPF32[5]=e.z,t.__Native._mathgasm_float3_cross(0,12,24),new n(A.HEAPF32[6],A.HEAPF32[7],A.HEAPF32[8])}},{key:"reflect",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=e.x,A.HEAPF32[4]=e.y,A.HEAPF32[5]=e.z,t.__Native._mathgasm_float3_reflect(0,12,24),new n(A.HEAPF32[6],A.HEAPF32[7],A.HEAPF32[8])}},{key:"lerped",value:function(e,i){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=e.x,A.HEAPF32[4]=e.y,A.HEAPF32[5]=e.z,A.HEAPF32[6]=i,t.__Native._mathgasm_float3_lerp(0,12,24,28),new n(A.HEAPF32[7],A.HEAPF32[8],A.HEAPF32[9])}}]),n}(),s=function(){function n(t,i,A,P){e(this,n),this.x=t,this.y=i,this.z=A,this.w=P}return i(n,[{key:"add",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=this.w,A.HEAPF32[4]=e.x,A.HEAPF32[5]=e.y,A.HEAPF32[6]=e.z,A.HEAPF32[7]=e.w,t.__Native._mathgasm_float4_add(0,16,32),new n(A.HEAPF32[8],A.HEAPF32[9],A.HEAPF32[10],A.HEAPF32[11])}},{key:"sub",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=this.w,A.HEAPF32[4]=-e.x,A.HEAPF32[5]=-e.y,A.HEAPF32[6]=-e.z,A.HEAPF32[7]=-e.w,t.__Native._mathgasm_float4_add(0,16,32),new n(A.HEAPF32[8],A.HEAPF32[9],A.HEAPF32[10],A.HEAPF32[11])}},{key:"mul",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,H=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=this.w,A.HEAPF32[4]=e,A.HEAPF32[5]=i,A.HEAPF32[6]=P,A.HEAPF32[7]=H,t.__Native._mathgasm_float4_mul(0,16,32),new n(A.HEAPF32[8],A.HEAPF32[9],A.HEAPF32[10],A.HEAPF32[11])}},{key:"length",value:function(){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=this.w,t.__Native._mathgasm_float4_length(0,16),A.HEAPF32[4]}},{key:"dot",value:function(e){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=this.w,A.HEAPF32[4]=e.x,A.HEAPF32[5]=e.y,A.HEAPF32[6]=e.z,A.HEAPF32[7]=e.w,t.__Native._mathgasm_float4_dot(0,16,32),A.HEAPF32[8]}},{key:"normalized",value:function(){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=this.w,t.__Native._mathgasm_float4_normalize(0,16),new n(A.HEAPF32[4],A.HEAPF32[5],A.HEAPF32[6],A.HEAPF32[7])}},{key:"lerped",value:function(e,i){return A.HEAPF32[0]=this.x,A.HEAPF32[1]=this.y,A.HEAPF32[2]=this.z,A.HEAPF32[3]=this.w,A.HEAPF32[4]=e.x,A.HEAPF32[5]=e.y,A.HEAPF32[6]=e.z,A.HEAPF32[7]=e.w,A.HEAPF32[8]=i,t.__Native._mathgasm_float4_lerp(0,16,32,36),new n(A.HEAPF32[9],A.HEAPF32[10],A.HEAPF32[11],A.HEAPF32[12])}}]),n}();t.Vec2=E,t.Vec3=a,t.Vec4=s,t.Bootstrapper=H,t.Heap=A,Object.defineProperty(t,"__esModule",{value:!0})});