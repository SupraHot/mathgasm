var __DATE__="Fri Mar 24 2017 21:11:15 GMT+0100 (CET)";console.log("Compiled at",__DATE__),function(t,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(t.mathgasm=t.mathgasm||{})}(this,function(t){"use strict";var a=function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),n=function(){function t(){a(this,t)}return e(t,[{key:"__init",value:function(t){this.__initHeap(t.buffer)}},{key:"__initHeap",value:function(t){this.wasmMemoryBuffer=t,this.HEAP8=new Int8Array(t),this.HEAP16=new Int16Array(t),this.HEAP32=new Int32Array(t),this.HEAPU8=new Uint8Array(t),this.HEAPU16=new Uint16Array(t),this.HEAPU32=new Uint32Array(t),this.HEAPF32=new Float32Array(t),this.HEAPF64=new Float64Array(t),this.__initMalloc()}},{key:"__initMalloc",value:function(){this.HEAPU32[5]=0,this.HEAPU32[6]=0,this.HEAPU32[7]=0,this.HEAP32[2]=40,this.HEAP32[3]=40}},{key:"malloc",value:function(t){t|=0;var a=0,e=0,n=0,i=0,s=0;if(t=0|7+(0|t),a=8+(0|t)|0,(0|(e=0|this.getFreeChunk(0|a)))>0|0)return 0|e;for(n=0|7+(0|this.HEAP32[3]),i=(0|n)+(0|a)|0,s=4+(0|n)|0,this.setHeadSize(0|s,0|a),this.setInuse(4+(0|s)|0),this.setFoot(0|s,0|a),this.HEAP32[3]=4+(0|i)|0,n=0|8+(0|n),s=0|n;(0|s)<(0|i)|0;)this.HEAPU32[s>>2]=0,s=0|4+(0|s);return 0|n}},{key:"getFreeChunk",value:function(t){t|=0;var a=0;return(0|this.HEAPU32[5])>0|0&&(0|(a=0|this.findChunk(0|t)))>0|0?((0|a)==(0|this.HEAPU32[6])|0&&(this.HEAPU32[6]=0|this.nextFree(0|a)),(0|a)==(0|this.HEAPU32[7])|0&&(this.HEAPU32[7]=0),this.HEAPU32[5]=(0|this.HEAPU32[5])-1|0,this.setInuse(0|a),this.HEAPU32[4]=(0|this.HEAPU32[4])-(0|this.getChunkSize(0|a))|0,0|a):0}},{key:"setHeadSize",value:function(t,a){t|=0,a|=0,this.HEAPU32[t>>2]=0|7&(0|this.HEAPU32[t>>2])|a|0}},{key:"setInuse",value:function(t){t|=0;var a=0;a=(0|t)-4|0,this.HEAPU32[a>>2]=1|this.HEAPU32[a>>2]}},{key:"setFoot",value:function(t,a){t|=0,a|=0;var e=0,n=0;e=0|this.HEAPU32[t>>2],n=(0|t)+(0|e)|0,this.HEAPU32[n>>2]=0|a}},{key:"nextFree",value:function(t){return t|=0,0|this.HEAP32[t>>2]}},{key:"findChunk",value:function(t){t|=0;var a=0;for(a=0|this.HEAPU32[6];0!=(0|a)|0;){if((0|this.getChunkSize(0|a))==(0|t)|0)return 0|a;a=0|this.HEAPU32[a>>2]}return 0}},{key:"getFreeChunk",value:function(t){t|=0;var a=0;return(0|this.HEAPU32[5])>0|0&&(0|(a=0|this.findChunk(0|t)))>0|0?((0|a)==(0|HEAPU32[6])|0&&(this.HEAPU32[6]=0|this.nextFree(0|a)),(0|a)==(0|this.HEAPU32[7])|0&&(this.HEAPU32[7]=0),this.HEAPU32[5]=(0|this.HEAPU32[5])-1|0,this.setInuse(0|a),this.HEAPU32[4]=(0|this.HEAPU32[4])-(0|this.getChunkSize(0|a))|0,0|a):0}},{key:"getChunkSize",value:function(t){t|=0;var a=0;return a=(0|t)-4|0,(0|this.HEAPU32[a>>2])&-2|0}}]),t}(),i=new n;t.__Native={};var s=function(){function n(){a(this,n)}return e(n,[{key:"initialize",value:function(a,e){var n={env:{memoryBase:0,tableBase:0,memory:new WebAssembly.Memory({initial:256}),table:new WebAssembly.Table({initial:0,element:"anyfunc"}),DYNAMICTOP_PTR:0,tempDoublePtr:0,STACKTOP:0,STACK_MAX:0,ABORT:0,abortStackOverflow:function(){},_malloc:i.malloc.bind(i),_printf:console.log},global:{NaN:0,Infinity:0}};fetch(a).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,n)}).then(function(a){var e=a.instance;i.__init(n.env.memory),t.__Native=e.exports}).then(e)}}]),n}(),h=new s,m=function(){function t(e,n){a(this,t),this.x=e,this.y=n}return e(t,[{key:"add",value:function(a){return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.Heap.HEAPF32[2]=a.x,mathgasm.Heap.HEAPF32[3]=a.y,mathgasm.__Native._mathgasm_float2_add(0,8,16),new t(mathgasm.Heap.HEAPF32[4],mathgasm.Heap.HEAPF32[5])}},{key:"sub",value:function(a){return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.Heap.HEAPF32[2]=-a.x,mathgasm.Heap.HEAPF32[3]=-a.y,mathgasm.__Native._mathgasm_float2_add(0,8,16),new t(mathgasm.Heap.HEAPF32[4],mathgasm.Heap.HEAPF32[5])}},{key:"mul",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.Heap.HEAPF32[2]=a,mathgasm.Heap.HEAPF32[3]=e,mathgasm.__Native._mathgasm_float2_mul(0,8,16),new t(mathgasm.Heap.HEAPF32[4],mathgasm.Heap.HEAPF32[5])}},{key:"mad",value:function(a,e){return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.Heap.HEAPF32[2]=a.x,mathgasm.Heap.HEAPF32[3]=a.y,mathgasm.Heap.HEAPF32[4]=e.x,mathgasm.Heap.HEAPF32[5]=e.y,mathgasm.__Native._mathgasm_float2_mad(0,8,16,24),new t(mathgasm.Heap.HEAPF32[6],mathgasm.Heap.HEAPF32[7])}},{key:"length",value:function(){return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.__Native._mathgasm_float2_length(0,8),mathgasm.Heap.HEAPF32[2]}},{key:"dot",value:function(t){return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.Heap.HEAPF32[2]=t.x,mathgasm.Heap.HEAPF32[3]=t.y,mathgasm.__Native._mathgasm_float2_dot(0,8,16),mathgasm.Heap.HEAPF32[4]}},{key:"normalized",value:function(){return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.__Native._mathgasm_float2_normalize(0,8),new t(mathgasm.Heap.HEAPF32[2],mathgasm.Heap.HEAPF32[3])}},{key:"lerped",value:function(a,e){return mathgasm.Heap.HEAPF32[0]=this.x,mathgasm.Heap.HEAPF32[1]=this.y,mathgasm.Heap.HEAPF32[2]=a.x,mathgasm.Heap.HEAPF32[3]=a.y,mathgasm.Heap.HEAPF32[4]=e,mathgasm.__Native._mathgasm_float2_lerp(0,8,16,20),new t(mathgasm.Heap.HEAPF32[5],mathgasm.Heap.HEAPF32[6])}}]),t}();t.Vec2=m,t.Bootstrapper=h,t.Heap=i,Object.defineProperty(t,"__esModule",{value:!0})});